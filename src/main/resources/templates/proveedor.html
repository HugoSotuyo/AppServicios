<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Perfil de proveedor</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
            crossorigin="anonymous"
            />
        <link rel="stylesheet" href="../static/css/formulario.css" />
        <link rel="stylesheet" href="../static/css/proveedor.css">
        <link rel="stylesheet" th:href="@{/css/navbar.css}" />
        <link rel="stylesheet" th:href="@{/css/main.css}" />
        <link rel="icon" th:href="@{/logo/Logo_FINAL.png}" type="image/png" />
        <!-- Incluye jQuery -->
        <script th:src="@{https://code.jquery.com/jquery-3.6.0.min.js}"></script>

        <!-- Incluye Popper.js -->
        <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js}"></script>
        <script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js}" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
    </head>
    <body class="p-3 m-0 border-0 bd-example m-0 border-0 ">
        <nav th:replace="~{/fragments/navbar :: nav}" th:with="id=${id}, nombre=${nombre}, apellido=${apellido}, barrio=${barrio}, direccion=${direccion}, email=${email}, imagen=${imagen}, rol=${rol}"></nav>
        <div class="container align-items-center px-3 py-4">
            <i><h2 class="pb-2 border-bottom align-items-center text-center"><span th:text="${proveedor.nombre}"></span> <span th:text="${proveedor.apellido}"></h2></i>
            <a><img th:src="@{/imagen/perfilProveedor/__${proveedor.id}__}" th:if="${proveedor.imagen != null}" class="logo mx-auto d-block" alt="Imagen de perfil" style="max-width: 200px; height: auto; border-radius: 50%; border: 2px solid #E57C3A; margin-top: 10px;"></a>
            <div class="row row-cols-1 row-cols-md-2 align-items-start g-5 py-5">
                <div class="col d-flex flex-column align-items-start gap-2">
                    <h2 class="pb-2 border-bottom">Aqui puedes solicitar mi servicio</h2>
                    <a href="#exampleFormControlTextarea1"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
                        </svg>
                    </a>
                    <div>
                        <form class="formulario" th:action="@{/trabajo/registroTrabajo}" method="POST" enctype="multipart/form-data">
                            <div  th:href="@{/trabajo/registrarTrabajo}">
                                <h2 class="fw-bold text-body-emphasis"><u>Datos Proveedor</u></h2>
                                <h4 th:text="${proveedor.email}"></h4>
                                <input hidden th:value="${proveedor.email}" name="emailProveedor">
                                <p><b>Apellido: </b><span th:text="${proveedor.apellido}"></span></p>
                                <p><b>Nombre: </b><span th:text="${proveedor.nombre}"></span></p>
                                <input hidden th:value="${proveedor.id}" name="idProveedor">
                                <h2 class="fw-bold text-body-emphasis"><u>Datos Usuario</u></h2>
                                <h4 th:text="${logueado.email}"></h4>
                                <p><b>Apellido: </b><span th:text="${logueado.apellido}"></span></p>
                                <p><b>Nombre: </b><span th:text="${logueado.nombre}"></span></p>
                                <input hidden th:value="${logueado.id}" name="idLogueado">
                                <div class="mb-3">
                                    <h6 class="fw-bold text-body-emphasis">
                                        <u><em>Ingresa aqui la descripcion del servicio que necesitas</em></u>
                                    </h6>
                                    <label for="exampleFormControlTextarea1" class="form-label"></label>
                                    <textarea  style="background-color: aliceblue " class="form-control" id="descripcion" name="descripcion" rows="3"></textarea>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary mt-3 botones">Solicitar Trabajo</button>
                        </form> 
                    </div>
                </div>
                <div class="col d-flex flex-column align-items-start gap-2 ">
                    <div class="col d-flex flex-column gap-2">
                        <div class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-4 rounded-3">
                            <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-award" viewBox="0 0 16 16">
                            <path d="M9.669.864 8 0 6.331.864l-1.858.282-.842 1.68-1.337 1.32L2.6 6l-.306 1.854 1.337 1.32.842 1.68 1.858.282L8 12l1.669-.864 1.858-.282.842-1.68 1.337-1.32L13.4 6l.306-1.854-1.337-1.32-.842-1.68L9.669.864zm1.196 1.193.684 1.365 1.086 1.072L12.387 6l.248 1.506-1.086 1.072-.684 1.365-1.51.229L8 10.874l-1.355-.702-1.51-.229-.684-1.365-1.086-1.072L3.614 6l-.25-1.506 1.087-1.072.684-1.365 1.51-.229L8 1.126l1.356.702 1.509.229z"/>
                            <path d="M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"/>
                            </svg>
                        </div>
                        <h4 class="fw-semibold mb-0 text-body-emphasis">Trabajos realizados</h4>
                        <div>
                            <a th:if="${rol == 'USER' || rol == 'ADMIN'}" th:href= "@{/trabajo/listarTrabajos/__${proveedor.id}__}"><h3><em> Ver Listado</em></h3> </a>
                            <div class="col d-flex flex-column gap-2">
                                <div class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-4 rounded-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-bag-plus" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z"/>
                                    <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"/>
                                    </svg>
                                </div>
                                <h2 class="fw-bold text-body-emphasis">Conoce mis servicios</h2>
                                <em><p class="text-body-secondary " th:text="${proveedor.descripcion}"></p></em>    
                            </div>
                            <div class="col d-flex flex-column gap-2">
                                <div class="feature-icon-small d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-4 rounded-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-suit-heart" viewBox="0 0 16 16">
                                    <path d="m8 6.236-.894-1.789c-.222-.443-.607-1.08-1.152-1.595C5.418 2.345 4.776 2 4 2 2.324 2 1 3.326 1 4.92c0 1.211.554 2.066 1.868 3.37.337.334.721.695 1.146 1.093C5.122 10.423 6.5 11.717 8 13.447c1.5-1.73 2.878-3.024 3.986-4.064.425-.398.81-.76 1.146-1.093C14.446 6.986 15 6.131 15 4.92 15 3.326 13.676 2 12 2c-.777 0-1.418.345-1.954.852-.545.515-.93 1.152-1.152 1.595L8 6.236zm.392 8.292a.513.513 0 0 1-.784 0c-1.601-1.902-3.05-3.262-4.243-4.381C1.3 8.208 0 6.989 0 4.92 0 2.755 1.79 1 4 1c1.6 0 2.719 1.05 3.404 2.008.26.365.458.716.596.992a7.55 7.55 0 0 1 .596-.992C9.281 2.049 10.4 1 12 1c2.21 0 4 1.755 4 3.92 0 2.069-1.3 3.288-3.365 5.227-1.193 1.12-2.642 2.48-4.243 4.38z"/>
                                    </svg>
                                </div>
                                <h4 class="fw-semibold mb-0 text-body-emphasis">
                                    ¿Contrataste el servicio y te gustó? 
                                </h4>
                                <em><p class="text-body-secondary ">
                                        Puedes dejar una valoracion una vez que se haya terminado el trabajo. De esta manera ayudaras
                                        a que otros vecinos puedan seleccionar un buen proveedor valorando mi reputacion.
                                        <b>Muchas gracias !!!!</b>
                                    </p></em>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <section class="py-5 text-center container">
                <div class="row py-lg-5">
                    <div class="col-lg-6 col-md-8 mx-auto">
                        <a th:href="@{/inicio}" class="btn btn-primary my-2">Volver</a>
                    </div>
                </div>
            </section>
            <div class="container m-5" >
                <div th:if="${exito}!=null" class="card text-white bg-success mb-3 mt-3 mensajeExito" >
                    <div class="card-body">
                        <h5 class="card-title">Exito ð</h5>
                        <p class="card-text" th:text="${exito}"></p>
                    </div>
                </div>
                <div th:if="${error}!=null" class="card text-white bg-danger mb-3 mensajeError" >
                    <div class="card-body">
                        <h5 class="card-title">Error ð</h5>
                        <p class="card-text" th:text="${error}"></p>
                    </div>
                </div>
            </div>
            <footer th:replace="~{/fragments/footer :: footer}" th:with="id=${id}, nombre=${nombre}, apellido=${apellido}, barrio=${barrio}, direccion=${direccion}, email=${email}, imagen=${imagen}, rol=${rol}"></footer>
            <script src="/docs/5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
            <script th:src="@{/js/dropdown.js}" type="text/javascript"></script>
    </body>
</html>
<!---->
